<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>async vs defer区别</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <script src="script.js" type="text/javascript" async></script>
    <script src="a.js" type="text/javascript" async></script>
    <script src="b.js" type="text/javascript" async></script>
</head>

<body>
    <main class="main">
        <article>
            <h1>async vs defer之间的区别</h1>
            <section>
                <figure>
                    <figcaption>
                        <h2>含义简述</h2>
                    </figcaption>
                    <p>
                        defer 它“延迟” 之意。这里的延迟，指的是延迟执行脚本，下载不会被阻塞
                    </p>
                    <p>
                        给script 标签添加了 defer 属性后，脚本不会阻塞 DOM 树的构建，会先下载资源，然后等待到在 DOMContentLoaded 事件前执行。
                    </p>
                    <p>
                        如果多个 script 设置了 defer 属性，这几个 script 的执行顺序和声明顺序相同，即最前面的脚本先执行
                    </p>
                </figure>
            </section>
            <section>
                <figure>
                    <figcaption>
                        <h2>它们之间的区别</h2>
                    </figcaption>
                    <article>
                        <section>
                            <figure>
                                <figcaption>相同点:</figcaption>
                                <p>1. 加载的过程中不会阻塞浏览器对HTML的解析过程（注意：这里说的仅仅是加载的过程）</p>
                                <p>2. 对于内联的script（内联脚本）无效</p>
                            </figure>
                        </section>
                        <section>
                            <figure>
                                <figcaption>不同点:</figcaption>
                                <h3>1. 执行是否会阻塞HTML解析:</h3>
                                <p> defer属性的script标签在执行的过程中不会阻塞HTML的解析，因为它执行的时刻是在HTML解析完全之后</p>
                                <p> async属性的script标签在其加载完成后可能会阻塞HTML的解析，具体得看async脚本加载完成时HTML文档是否被解析完全，如果还没被解析完全，则会阻塞HTML的解析去执行脚本，如果HTML已经被解析完全了，执行脚本就不会阻塞HTML解析了
                                </p>
                                <h3>2. 是否会保证执行顺序的不同:</h3>
                                <p>
                                    多个async属性的script标签，不可以保证最后的执行顺序一定按照HTML文档中的顺序来；
                                </p>
                                <p>
                                    多个defer的script标签，一定会按照文档中的顺序执行
                                </p>
                            </figure>
                        </section>
                    </article>
                </figure>
            </section>
        </article>
    </main>
</body>

</html>